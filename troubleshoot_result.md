# 🔍 3D 프린터 문제 진단 결과

## 입력
- **증상**: "현재증상뭐야? 어떻게해야해"

---

## 📸 1단계: 이미지 분석 + 질문 증강

### 감지된 문제
- **surface_quality** (확신도: 0.95)
- **under_extrusion** (확신도: 0.85)

### 설명
이미지의 특정 영역, 특히 상단 평평한 표면이 매우 거칠고 울퉁불퉁하며 구멍이 뚫린 듯한 질감을 보입니다. 이는 재료가 고르게 압출되지 않았거나 충분히 압출되지 않아 발생하는 전형적인 표면 품질 문제입니다. 이러한 증상은 언더 압출, 부분적인 노즐 막힘 또는 수분을 머금은 필라멘트 사용으로 인해 발생할 수 있습니다. 프린트의 다른 수직 벽면은 비교적 양호해 보입니다.

### 시각적 증거
- 표면 전체에 걸쳐 불규칙한 요철과 작은 구멍들이 보입니다.
- 상단 레이어의 질감이 매우 거칠고 매끄럽지 않습니다.
- 패턴이 일정하지 않고 부분적으로 재료가 부족해 보이는 흔적이 있습니다.

### 🔍 증강된 검색 쿼리 (Augmented Query)
```
3D print top surface rough pitting bumpy under-extrusion wet filament moisture bubbles top layer insufficient extrusion inconsistent flow gaps.
```

### ❓ 추가 질문 (Follow-up Questions)
1. 어떤 종류의 필라멘트를 사용하고 계신가요? (예: PLA, PETG) 그리고 필라멘트를 어떻게 보관하고 계신가요? (예: 제습함, 밀폐용기, 실리카겔 등)
2. 최근에 노즐 교체나 프린터 설정을 변경한 적이 있으신가요? 특히 노즐 온도, 리트랙션 설정, 프린트 속도 등에 변화가 있었나요?
3. 프린팅 중에 필라멘트에서 '팝' 소리나 '치직' 소리가 나는 것을 들으신 적이 있나요? 이러한 소리는 필라멘트의 수분 함유를 나타낼 수 있습니다.

### 🚦 Gate 판단
- **검색 필요**: `not_needed`
- **스킵 이유**: 언더 압출 및 거친 표면 품질은 3D 프린팅에서 흔히 발생하는 문제이며, 특히 필라멘트 수분과 관련된 경우는 잘 알려진 원인과 해결책이 있습니다. 사용자 질문을 통해 추가 정보를 얻으면 명확한 진단과 해결책을 제시할 수 있습니다.

**내부 솔루션**:
현재 증상은 '표면 품질 저하'와 '언더 압출'로 보이며, 특히 필라멘트의 수분 흡수가 주요 원인일 수 있습니다. 다음 단계를 시도해 보세요:

1.  **필라멘트 건조:** 필라멘트가 수분을 흡수했을 가능성이 높습니다. 필라멘트 건조기(Filament Dryer)를 사용하거나 오븐을 낮은 온도(PLA의 경우 40-50°C, PETG의 경우 60-70°C)로 설정하여 몇 시간 동안 건조해 보세요. 건조 후에는 반드시 밀폐 용기나 제습함에 보관하세요.
2.  **노즐 청소/교체:** 부분적인 노즐 막힘이 언더 압출을 유발할 수 있습니다. '콜드 풀(cold pull)' 또는 '핫 풀(hot pull)' 방법을 사용하여 노즐 내부를 청소하거나, 필요한 경우 새 노즐로 교체하는 것을 고려해 보세요.
3.  **압출 보정 (E-Steps Calibration):** 프린터가 실제로 필요한 만큼의 필라멘트를 압출하고 있는지 확인하기 위해 E-Steps(압출기 스텝) 보정을 수행하는 것이 좋습니다. 이를 통해 정확한 필라멘트 흐름을 보장할 수 있습니다.
4.  **프린트 속도 및 온도 조정:** 너무 빠른 속도나 낮은 노즐 온도는 재료가 충분히 녹지 않아 언더 압출을 유발할 수 있습니다. 프린트 속도를 약간 줄이거나 노즐 온도를 5-10°C 정도 올려보세요.
5.  **리트랙션 설정 확인:** 너무 과도한 리트랙션(retraction) 설정은 노즐 내부에서 필라멘트가 마모되거나 공백이 생겨 언더 압출을 유발할 수 있습니다. 리트랙션 거리와 속도를 최적화하는 테스트를 해보세요.

---

## 🔎 2단계: Perplexity 검색

### ⏭️ 검색 스킵
- 이유: 언더 압출 및 거친 표면 품질은 3D 프린팅에서 흔히 발생하는 문제이며, 특히 필라멘트 수분과 관련된 경우는 잘 알려진 원인과 해결책이 있습니다. 사용자 질문을 통해 추가 정보를 얻으면 명확한 진단과 해결책을 제시할 수 있습니다.

---

## 📋 3단계: 구조화된 결과

### 관찰된 증상
프린트의 상단 평평한 표면이 매우 거칠고 울퉁불퉁하며 구멍이 뚫린 듯한 질감을 보입니다. 표면 전체에 불규칙한 요철과 작은 구멍들이 있으며, 상단 레이어가 매끄럽지 않고 재료가 부족한 흔적이 관찰됩니다.

### 🎯 가능한 원인
- **표면 품질 저하** (출처: 내부 KB (일반적인 3D 프린팅 문제))
- **언더 압출 (Under-extrusion)** (출처: 내부 KB (일반적인 3D 프린팅 문제))
- **필라멘트의 수분 흡수** (출처: 내부 KB (일반적인 3D 프린팅 문제))
- **부분적인 노즐 막힘** (출처: 내부 KB (일반적인 3D 프린팅 문제))
- **너무 빠른 프린트 속도 또는 낮은 노즐 온도** (출처: 내부 KB (일반적인 3D 프린팅 문제))
- **과도한 리트랙션(retraction) 설정** (출처: 내부 KB (일반적인 3D 프린팅 문제))

### ✅ 즉시 확인
- 필라멘트의 현재 보관 상태 (밀폐 용기 사용 여부, 습기 노출 여부)
- 프린터의 현재 노즐 온도, 프린트 속도 및 리트랙션 설정
- 프린팅 중 필라멘트에서 '팝' 또는 '치직' 소리가 들렸는지 여부

### 🔧 해결책

**1. 필라멘트 건조** (난이도: medium)
- 출처: 내부 KB (일반적인 3D 프린팅 문제)
  - 필라멘트 건조기(Filament Dryer)를 사용하거나 오븐을 낮은 온도(PLA의 경우 40-50°C, PETG의 경우 60-70°C)로 설정하여 몇 시간 동안 건조해 보세요.
  - 건조 후에는 반드시 밀폐 용기나 제습함에 보관하세요.

**2. 노즐 청소 또는 교체** (난이도: medium)
- 출처: 내부 KB (일반적인 3D 프린팅 문제)
  - '콜드 풀(cold pull)' 또는 '핫 풀(hot pull)' 방법을 사용하여 노즐 내부를 청소해 보세요.
  - 필요한 경우 새 노즐로 교체하는 것을 고려해 보세요.

**3. 압출 보정 (E-Steps Calibration)** (난이도: hard)
- 출처: 내부 KB (일반적인 3D 프린팅 문제)
  - E-Steps(압출기 스텝) 보정을 수행하여 프린터가 실제로 필요한 만큼의 필라멘트를 압출하고 있는지 확인하고 보정하세요. 이를 통해 정확한 필라멘트 흐름을 보장할 수 있습니다.

**4. 프린트 속도 및 온도 조정** (난이도: easy)
- 출처: 내부 KB (일반적인 3D 프린팅 문제)
  - 프린트 속도를 약간 줄여보세요.
  - 노즐 온도를 5-10°C 정도 올려보세요.

**5. 리트랙션 설정 확인** (난이도: medium)
- 출처: 내부 KB (일반적인 3D 프린팅 문제)
  - 리트랙션 거리와 속도를 최적화하는 테스트를 수행하여 너무 과도한 리트랙션 설정으로 인한 언더 압출을 방지하세요.

### ❓ 추가 정보 필요
- 현재 사용 중인 필라멘트의 종류(예: PLA, PETG)와 보관 방식(예: 제습함, 밀폐용기, 실리카겔 등)을 알려주세요.
- 최근에 노즐 교체나 프린터 설정을 변경한 적이 있으신가요? 특히 노즐 온도, 리트랙션 설정, 프린트 속도 등에 변화가 있었는지 알려주세요.
- 프린팅 중에 필라멘트에서 '팝' 또는 '치직' 소리가 나는 것을 들으신 적이 있으신가요?

---

## 📊 Raw JSON

<details>
<summary>전체 데이터</summary>

```json
{
  "input": {
    "symptom_text": "현재증상뭐야? 어떻게해야해"
  },
  "step1_image_analysis": {
    "detected_problems": [
      "surface_quality",
      "under_extrusion"
    ],
    "confidence_scores": {
      "surface_quality": 0.95,
      "under_extrusion": 0.85
    },
    "description": "이미지의 특정 영역, 특히 상단 평평한 표면이 매우 거칠고 울퉁불퉁하며 구멍이 뚫린 듯한 질감을 보입니다. 이는 재료가 고르게 압출되지 않았거나 충분히 압출되지 않아 발생하는 전형적인 표면 품질 문제입니다. 이러한 증상은 언더 압출, 부분적인 노즐 막힘 또는 수분을 머금은 필라멘트 사용으로 인해 발생할 수 있습니다. 프린트의 다른 수직 벽면은 비교적 양호해 보입니다.",
    "visual_evidence": [
      "표면 전체에 걸쳐 불규칙한 요철과 작은 구멍들이 보입니다.",
      "상단 레이어의 질감이 매우 거칠고 매끄럽지 않습니다.",
      "패턴이 일정하지 않고 부분적으로 재료가 부족해 보이는 흔적이 있습니다."
    ],
    "augmented_query": "3D print top surface rough pitting bumpy under-extrusion wet filament moisture bubbles top layer insufficient extrusion inconsistent flow gaps.",
    "follow_up_questions": [
      "어떤 종류의 필라멘트를 사용하고 계신가요? (예: PLA, PETG) 그리고 필라멘트를 어떻게 보관하고 계신가요? (예: 제습함, 밀폐용기, 실리카겔 등)",
      "최근에 노즐 교체나 프린터 설정을 변경한 적이 있으신가요? 특히 노즐 온도, 리트랙션 설정, 프린트 속도 등에 변화가 있었나요?",
      "프린팅 중에 필라멘트에서 '팝' 소리나 '치직' 소리가 나는 것을 들으신 적이 있나요? 이러한 소리는 필라멘트의 수분 함유를 나타낼 수 있습니다."
    ],
    "specific_symptoms": [
      "3D print top surface rough pitting",
      "3D print bumpy top layer",
      "3D print under extrusion top layer"
    ],
    "needs_search": "not_needed",
    "search_skip_reason": "언더 압출 및 거친 표면 품질은 3D 프린팅에서 흔히 발생하는 문제이며, 특히 필라멘트 수분과 관련된 경우는 잘 알려진 원인과 해결책이 있습니다. 사용자 질문을 통해 추가 정보를 얻으면 명확한 진단과 해결책을 제시할 수 있습니다.",
    "internal_solution": "현재 증상은 '표면 품질 저하'와 '언더 압출'로 보이며, 특히 필라멘트의 수분 흡수가 주요 원인일 수 있습니다. 다음 단계를 시도해 보세요:\n\n1.  **필라멘트 건조:** 필라멘트가 수분을 흡수했을 가능성이 높습니다. 필라멘트 건조기(Filament Dryer)를 사용하거나 오븐을 낮은 온도(PLA의 경우 40-50°C, PETG의 경우 60-70°C)로 설정하여 몇 시간 동안 건조해 보세요. 건조 후에는 반드시 밀폐 용기나 제습함에 보관하세요.\n2.  **노즐 청소/교체:** 부분적인 노즐 막힘이 언더 압출을 유발할 수 있습니다. '콜드 풀(cold pull)' 또는 '핫 풀(hot pull)' 방법을 사용하여 노즐 내부를 청소하거나, 필요한 경우 새 노즐로 교체하는 것을 고려해 보세요.\n3.  **압출 보정 (E-Steps Calibration):** 프린터가 실제로 필요한 만큼의 필라멘트를 압출하고 있는지 확인하기 위해 E-Steps(압출기 스텝) 보정을 수행하는 것이 좋습니다. 이를 통해 정확한 필라멘트 흐름을 보장할 수 있습니다.\n4.  **프린트 속도 및 온도 조정:** 너무 빠른 속도나 낮은 노즐 온도는 재료가 충분히 녹지 않아 언더 압출을 유발할 수 있습니다. 프린트 속도를 약간 줄이거나 노즐 온도를 5-10°C 정도 올려보세요.\n5.  **리트랙션 설정 확인:** 너무 과도한 리트랙션(retraction) 설정은 노즐 내부에서 필라멘트가 마모되거나 공백이 생겨 언더 압출을 유발할 수 있습니다. 리트랙션 거리와 속도를 최적화하는 테스트를 해보세요."
  },
  "step2_search": {
    "skipped": true,
    "reason": "언더 압출 및 거친 표면 품질은 3D 프린팅에서 흔히 발생하는 문제이며, 특히 필라멘트 수분과 관련된 경우는 잘 알려진 원인과 해결책이 있습니다. 사용자 질문을 통해 추가 정보를 얻으면 명확한 진단과 해결책을 제시할 수 있습니다."
  },
  "step3_solution": {
    "observed": "프린트의 상단 평평한 표면이 매우 거칠고 울퉁불퉁하며 구멍이 뚫린 듯한 질감을 보입니다. 표면 전체에 불규칙한 요철과 작은 구멍들이 있으며, 상단 레이어가 매끄럽지 않고 재료가 부족한 흔적이 관찰됩니다.",
    "likely_causes": [
      {
        "cause": "표면 품질 저하",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "cause": "언더 압출 (Under-extrusion)",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "cause": "필라멘트의 수분 흡수",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "cause": "부분적인 노즐 막힘",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "cause": "너무 빠른 프린트 속도 또는 낮은 노즐 온도",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "cause": "과도한 리트랙션(retraction) 설정",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      }
    ],
    "immediate_checks": [
      "필라멘트의 현재 보관 상태 (밀폐 용기 사용 여부, 습기 노출 여부)",
      "프린터의 현재 노즐 온도, 프린트 속도 및 리트랙션 설정",
      "프린팅 중 필라멘트에서 '팝' 또는 '치직' 소리가 들렸는지 여부"
    ],
    "solutions": [
      {
        "title": "필라멘트 건조",
        "steps": [
          "필라멘트 건조기(Filament Dryer)를 사용하거나 오븐을 낮은 온도(PLA의 경우 40-50°C, PETG의 경우 60-70°C)로 설정하여 몇 시간 동안 건조해 보세요.",
          "건조 후에는 반드시 밀폐 용기나 제습함에 보관하세요."
        ],
        "difficulty": "medium",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "title": "노즐 청소 또는 교체",
        "steps": [
          "'콜드 풀(cold pull)' 또는 '핫 풀(hot pull)' 방법을 사용하여 노즐 내부를 청소해 보세요.",
          "필요한 경우 새 노즐로 교체하는 것을 고려해 보세요."
        ],
        "difficulty": "medium",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "title": "압출 보정 (E-Steps Calibration)",
        "steps": [
          "E-Steps(압출기 스텝) 보정을 수행하여 프린터가 실제로 필요한 만큼의 필라멘트를 압출하고 있는지 확인하고 보정하세요. 이를 통해 정확한 필라멘트 흐름을 보장할 수 있습니다."
        ],
        "difficulty": "hard",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "title": "프린트 속도 및 온도 조정",
        "steps": [
          "프린트 속도를 약간 줄여보세요.",
          "노즐 온도를 5-10°C 정도 올려보세요."
        ],
        "difficulty": "easy",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      },
      {
        "title": "리트랙션 설정 확인",
        "steps": [
          "리트랙션 거리와 속도를 최적화하는 테스트를 수행하여 너무 과도한 리트랙션 설정으로 인한 언더 압출을 방지하세요."
        ],
        "difficulty": "medium",
        "source": "내부 KB (일반적인 3D 프린팅 문제)"
      }
    ],
    "need_more_info": [
      "현재 사용 중인 필라멘트의 종류(예: PLA, PETG)와 보관 방식(예: 제습함, 밀폐용기, 실리카겔 등)을 알려주세요.",
      "최근에 노즐 교체나 프린터 설정을 변경한 적이 있으신가요? 특히 노즐 온도, 리트랙션 설정, 프린트 속도 등에 변화가 있었는지 알려주세요.",
      "프린팅 중에 필라멘트에서 '팝' 또는 '치직' 소리가 나는 것을 들으신 적이 있으신가요?"
    ]
  }
}
```

</details>
